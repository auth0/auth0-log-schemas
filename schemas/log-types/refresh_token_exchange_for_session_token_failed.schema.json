{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Failed Exchange of refresh_token for session_token.",
  "properties": {
    "$event_schema": {
      "description": "Event schema meta",
      "allOf": [
        {
          "properties": {
            "version": {
              "type": "string"
            }
          },
          "required": [
            "version"
          ],
          "type": "object"
        }
      ]
    },
    "_id": {
      "type": "string"
    },
    "audience": {
      "properties": {
        "audience": {
          "description": "The audience in the JWT associated with the request.",
          "type": "string"
        }
      },
      "required": [
        "audience"
      ],
      "type": "object"
    },
    "client_id": {
      "description": "Client related to the API call. Clients are also called applications. The underlying application may not be owned by your tenant and may not be accessible. For failure logs, this may be a valid ID, an invalid one, or any ID.",
      "type": [
        "string",
        "null"
      ]
    },
    "client_ip": {
      "properties": {
        "client_ip": {
          "anyOf": [
            {
              "format": "ipv4",
              "type": "string"
            },
            {
              "format": "ipv6",
              "type": "string"
            }
          ],
          "description": "The IP from which we got the request. Note that this does not follow forwarded-for headers unlike the `ip` field which aims at describing the IP of the end user."
        }
      },
      "type": "object"
    },
    "client_name": {
      "type": "string"
    },
    "connection_id": {
      "type": "string"
    },
    "date": {
      "description": "Represents a date in string format. ISO 8601: The standard format for representing date and time, with the order of elements being year, month, day, hour, minutes, seconds, and milliseconds. For example, September 27, 2022 at 6 PM is represented as 2022-09-27 18:00:00.000",
      "type": "string"
    },
    "description": {
      "description": "Description of the event. This can also contain a description of the issue for failure logs.",
      "type": "string"
    },
    "details": {
      "description": "Log details",
      "properties": {
        "refresh_token_id": {
          "type": "string"
        },
        "subject_token_type": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "id": {
      "type": "string"
    },
    "ip": {
      "properties": {
        "ip": {
          "anyOf": [
            {
              "format": "ipv4",
              "type": "string"
            },
            {
              "format": "ipv6",
              "type": "string"
            }
          ],
          "description": "The IP address associated with the request. For an auth related log this should be the end user IP. For a machine-to-machine auth flow this should be the IP of the computer doing the authentication. For management logs like `sapi` and `mgmt_api_read` this should be the IP of the admin using the manage dashboard."
        }
      },
      "required": [
        "ip"
      ],
      "type": "object"
    },
    "isMobile": {
      "type": "boolean"
    },
    "log_id": {
      "description": "Log id",
      "type": "string"
    },
    "scope": {
      "properties": {
        "scope": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "string"
            }
          ],
          "description": "List of scopes in the JWT, either as an array like `[\"read:logs\",\"read:users\"]` or a space-separated list of scopes like `read:logs read:users delete:clients`"
        }
      },
      "type": "object"
    },
    "session_id": {
      "description": "The session ID associated with the token exchange, if available",
      "type": [
        "string",
        "null"
      ]
    },
    "tenant_name": {
      "description": "Tenant name",
      "type": "string"
    },
    "type": {
      "const": "refresh_token_exchange_for_session_token_failed",
      "description": "Failed Exchange of Refresh Token for Session Token",
      "type": "string"
    },
    "user_agent": {
      "description": "The user_agent behind this log, when available",
      "examples": [
        "Chrome 120.0.0 / Mac OS X 10.15.7"
      ],
      "type": "string"
    },
    "user_id": {
      "type": [
        "string",
        "null"
      ]
    },
    "user_name": {
      "type": [
        "string",
        "null"
      ]
    }
  },
  "required": [
    "_id",
    "client_id",
    "date",
    "description",
    "details",
    "ip",
    "log_id",
    "tenant_name",
    "type"
  ],
  "type": "object"
}
